<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
<changeSet id="2018011801-0238" author="vishnu">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
            select count(*) from users where username ='CKalambaKabongo';
               </sqlCheck>
        </preConditions>
 <sql>
    INSERT INTO person (creator, gender,date_created, uuid)VALUES (6,'M',now(),uuid());
    INSERT INTO person_name (person_id, given_name, family_name,creator, date_created, uuid) VALUES ((SELECT max(person_id) FROM person),"Esther","KALAMBA KABONGO",6, now(), uuid());
    INSERT INTO users(username, password, salt, creator, date_created, changed_by, person_id,retired,uuid) VALUES ("CKalambaKabongo","5cf456be925a6b403454ea4bfbf444d406789cf05614bf164068ff29ea648dcea17f9f34137505d8c6dad3d1102bd8832ab34c545353cc47ec0532e7d6d2e938","bb27aaf6dd5590a09923659f89a7c51197273c058947a5bb902bd9a1eb19ed9b68152fc2d7d3e1f5d097b51b0720dac1acddb55a113c806cdeb2949170e9ba1a",8,now(),8,(SELECT max(person_id) FROM person),0,uuid());
    insert into user_role values ((select max(user_id) from users),'OPD Nurse');
    INSERT INTO provider (person_id, creator, date_created, retired, uuid)VALUES ((SELECT max(person_id) FROM person),6,now(),0,uuid());
 </sql>
</changeSet>
</databaseChangeLog>
