<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd         http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
        <changeSet id="OCB-CONFIG-201806080934" author="Vishnu">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name  where name='Date diagnostic VIH(Ant)';
            </sqlCheck>
        </preConditions>
        <comment>Renaming Date Diagnostic ARV to Date diagnostic VIH in Antecedents form </comment>
        <sql>
      update concept_name set name ='Date diagnostic VIH(Ant)'  where name ='Date diagnostic ARV'
      and locale='fr' and concept_name_type='FULLY_SPECIFIED';
      update concept_name set name ='Date diagnostic VIH'  where name ='Date diagnostic ARV'
      and locale='fr' and concept_name_type='SHORT';
   </sql>
   </changeSet>
            <changeSet id="OCB-CONFIG-201806080945" author="Vishnu">
        <comment>Removing 'Date diagnostic VIH' from IPD Adm form </comment>
        <sql>
      delete from concept_set where concept_set in(select concept_id from concept_name
      where name ='IPD Admission Section, Historique VIH' and locale in ('fr','en') and concept_name_type=
      'FULLY_SPECIFIED') and concept_id in (select concept_id from concept_name where name
      ='IPD Admission, Date diagnostic VIH' and locale in ('fr','en') and concept_name_type='FULLY_SPECIFIED');
      delete from concept_set where concept_set in(select concept_id from concept_name
      where name ='Admission IPD Form' and locale='fr' and concept_name_type=
      'FULLY_SPECIFIED') and concept_id in (select concept_id from concept_name where name
      ='IPD Admission Section, TB Précédentes' and locale='fr' and concept_name_type='FULLY_SPECIFIED');
      

   </sql>
   </changeSet>
   
            <changeSet id="OCB-CONFIG-201806080955" author="Vishnu">
        <comment>updating datatypes for the concepts in IPD ADM form</comment>
        <sql>
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Coded') where concept_id =(select concept_id from concept_name where name ="Infirmier en charge de l'admission" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Coded') where concept_id =(select concept_id from concept_name where name ="Medecin en charge de l'admission" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
     </sql>
   </changeSet>

<changeSet id="OCB-CONFIG-201806071210" author="Vishnu">
    <preConditions onFail="MARK_RAN">
        <sqlCheck expectedResult="0">
            select COUNT(*) from concept_set cs
            join concept_name cn
            on cs.concept_id = cn.concept_id
            where cs.concept_id IN (select concept_id from concept_name where name IN
            (
            'MANDALA ANSWOR Jeanine'
'BANONA KIFU  Nono'
'OWANGA TAMBWE  Esther'
'KALAMBA KABONGO  Christian'
'MFUTISI Bibi  Judith'
'BARAKA MOLA ANNIE'
'KANYONA MBUYI LOUIS RICHARD'
'NGONDE ANNIE'
'KALWANGILA SEQUEIRA Tony'
'MUCINYA LUMOWO Gisèle'
'TSHIMUNGU Alain'
'MANGANA Freddy'
'KALENGAY Corine'
'KABEMA Antoine'
'AMSINI Chicco'
'NTABUGI Nadine'
'MBUNGA'
'KAYEMBE Kick'
'KISAKA Patrick'
'MWASOMI Patrick'
'WALLAYS Elisabeth'
'MBUAYA Joelle'
'NYALENGE Destin'
'MUNZIKA EVA'
'MBALA ALEXIS'
'NGANDU ROBERT'
'SHAKO LISETTE'
'LUKELO CECILE'
'MPOYI EMMANUEL',
'WALO Chadrack'
'MOLAY Gaylord'
'KALALA MUKENA Serge'
'BELANGANAY Geoffrey'
'KOMOYO Gertrude'
'DUQUET Katrien'
'CIBANGU Jean de Dieu'
'BAFINDA Phillipe'
'BANINGIME Sandrine'
'ILUNGA BONDO Michel'
'NUMELIE ILUNGA Thérèse'
'BUMBANGI Serge'
'MALUNGIDI Pelagie'
'MBALA SEKI Alexis'
'KUTUKUENDA NZADI Roger'
'NTUMBA Naomie'
'SONGO Carmen'
'KAYEMBE Sylvain'
'KUKANGIDILA Emmanuel'
'NSEKI Patrick'
'KUSAKANA Eveline'
'MBUALA Prodige'
'NSUNDA NTANGU Afrie'
'KAMUNGA Kennedy'
'MUJINGILA Fanny'
'NIAMA Despy'
'KALONJI Euphrasie'
'BATUMBA John'
'CIMANGA Nelly'
'SHALASHALA Valerie'
'TAMBWE Mike'
           ) AND concept_name_type = "FULLY_SPECIFIED")
            and cs.concept_set IN (select concept_id from concept_name where name = "Infirmier en charge de l'admission");
          </sqlCheck>
        </preConditions>

<comment> coded answers for "Infirmier en charge de l'admission" section </comment>
<sql>
  set @concept_id = 0;
        set @child1_concept_id = 0;
        set @child2_concept_id = 0;
        set @child3_concept_id = 0;
        set @child4_concept_id = 0;
        set @child5_concept_id = 0;
        set @child6_concept_id = 0;
        set @child7_concept_id = 0;
        set @child8_concept_id = 0;
        set @child9_concept_id = 0;
        set @child10_concept_id = 0;
        set @child11_concept_id = 0;
        set @child12_concept_id = 0;
        set @child13_concept_id = 0;
        set @child14_concept_id = 0;
        set @child15_concept_id = 0;
        set @child16_concept_id = 0;
        set @child17_concept_id = 0;
        set @child18_concept_id = 0;
        set @child19_concept_id = 0;
        set @child20_concept_id = 0;
        set @child21_concept_id = 0;
        set @child22_concept_id = 0;
        set @child23_concept_id = 0;
        set @child24_concept_id = 0;
        set @child25_concept_id = 0;
        set @child26_concept_id = 0;
        set @child27_concept_id = 0;
        set @child28_concept_id = 0;
        set @child29_concept_id = 0;
        set @child30_concept_id = 0;
set @child31_concept_id = 0;
set @child32_concept_id = 0;
set @child33_concept_id = 0;
set @child34_concept_id = 0;
set @child35_concept_id = 0;
set @child36_concept_id = 0;
set @child37_concept_id = 0;
set @child38_concept_id = 0;
set @child39_concept_id = 0;
set @child40_concept_id = 0;
set @child41_concept_id = 0;
set @child42_concept_id = 0;
set @child43_concept_id = 0;
set @child44_concept_id = 0;
set @child45_concept_id = 0;
set @child46_concept_id = 0;
set @child47_concept_id = 0;
set @child48_concept_id = 0;
set @child49_concept_id = 0;
set @child50_concept_id = 0;
set @child51_concept_id = 0;
set @child52_concept_id = 0;
set @child53_concept_id = 0;
set @child54_concept_id = 0;
set @child55_concept_id = 0;
set @child56_concept_id = 0;
set @child57_concept_id = 0;
set @child58_concept_id = 0;
set @child59_concept_id = 0;
set @child60_concept_id = 0;

        select concept_id into @concept_id from concept_name where name = "Infirmier en charge de l'Admission" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

        select concept_id into @child1_concept_id from concept_name where name='MANDALA ANSWOR Jeanine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child2_concept_id from concept_name where name='BANONA KIFU  Nono'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child3_concept_id from concept_name where name='OWANGA TAMBWE  Esther'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child4_concept_id from concept_name where name='KALAMBA KABONGO  Christian'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child5_concept_id from concept_name where name='MFUTISI Bibi  Judith'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child6_concept_id from concept_name where name='BARAKA MOLA ANNIE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child7_concept_id from concept_name where name='KANYONA MBUYI LOUIS RICHARD'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child8_concept_id from concept_name where name='NGONDE ANNIE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child9_concept_id from concept_name where name='KALWANGILA SEQUEIRA Tony'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child10_concept_id from concept_name where name='MUCINYA LUMOWO Gisèle'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child11_concept_id from concept_name where name='TSHIMUNGU Alain'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child12_concept_id from concept_name where name='MANGANA Freddy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child13_concept_id from concept_name where name='KALENGAY Corine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child14_concept_id from concept_name where name='KABEMA Antoine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child15_concept_id from concept_name where name='AMSINI Chicco'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child16_concept_id from concept_name where name='NTABUGI Nadine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child17_concept_id from concept_name where name='MBUNGA'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child18_concept_id from concept_name where name='KAYEMBE Kick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child19_concept_id from concept_name where name='KISAKA Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child20_concept_id from concept_name where name='MWASOMI Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child21_concept_id from concept_name where name='WALLAYS Elisabeth'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child22_concept_id from concept_name where name='MBUAYA Joelle'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child23_concept_id from concept_name where name='NYALENGE Destin'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child24_concept_id from concept_name where name='MUNZIKA EVA'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child25_concept_id from concept_name where name='MBALA ALEXIS'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child26_concept_id from concept_name where name='NGANDU ROBERT'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child27_concept_id from concept_name where name='SHAKO LISETTE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child28_concept_id from concept_name where name='LUKELO CECILE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child29_concept_id from concept_name where name='MPOYI EMMANUEL'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

select concept_id into @child30_concept_id from concept_name where name='WALO Chadrack'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child31_concept_id from concept_name where name='MOLAY Gaylord'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child32_concept_id from concept_name where name='KALALA MUKENA Serge'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child33_concept_id from concept_name where name='BELANGANAY Geoffrey'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child34_concept_id from concept_name where name='KOMOYO Gertrude'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child35_concept_id from concept_name where name='DUQUET Katrien'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child36_concept_id from concept_name where name='CIBANGU Jean de Dieu'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child37_concept_id from concept_name where name='BAFINDA Phillipe'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child38_concept_id from concept_name where name='BANINGIME Sandrine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child39_concept_id from concept_name where name='ILUNGA BONDO Michel'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child40_concept_id from concept_name where name='NUMELIE ILUNGA Thérèse'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child41_concept_id from concept_name where name='BUMBANGI Serge'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child42_concept_id from concept_name where name='MALUNGIDI Pelagie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child43_concept_id from concept_name where name='MBALA SEKI Alexis'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child44_concept_id from concept_name where name='KUTUKUENDA NZADI Roger'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child45_concept_id from concept_name where name='NTUMBA Naomie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child46_concept_id from concept_name where name='SONGO Carmen'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child47_concept_id from concept_name where name='KAYEMBE Sylvain'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child48_concept_id from concept_name where name='KUKANGIDILA Emmanuel'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child49_concept_id from concept_name where name='NSEKI Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child50_concept_id from concept_name where name='KUSAKANA Eveline'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child51_concept_id from concept_name where name='MBUALA Prodige'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child52_concept_id from concept_name where name='NSUNDA NTANGU Afrie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child53_concept_id from concept_name where name='KAMUNGA Kennedy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child54_concept_id from concept_name where name='MUJINGILA Fanny'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child55_concept_id from concept_name where name='NIAMA Despy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child56_concept_id from concept_name where name='KALONJI Euphrasie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child57_concept_id from concept_name where name='BATUMBA John'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child58_concept_id from concept_name where name='CIMANGA Nelly'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child59_concept_id from concept_name where name='SHALASHALA Valerie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child60_concept_id from concept_name where name='TAMBWE Mike'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

call add_concept_answer(@concept_id, @child1_concept_id,1);
call add_concept_answer(@concept_id, @child2_concept_id,2);
call add_concept_answer(@concept_id, @child3_concept_id,3);
call add_concept_answer(@concept_id, @child4_concept_id,4);
call add_concept_answer(@concept_id, @child5_concept_id,5);
call add_concept_answer(@concept_id, @child6_concept_id,6);
call add_concept_answer(@concept_id, @child7_concept_id,7);
call add_concept_answer(@concept_id, @child8_concept_id,8);
call add_concept_answer(@concept_id, @child9_concept_id,9);
call add_concept_answer(@concept_id, @child10_concept_id,10);
call add_concept_answer(@concept_id, @child11_concept_id,11);
call add_concept_answer(@concept_id, @child12_concept_id,12);
call add_concept_answer(@concept_id, @child13_concept_id,13);
call add_concept_answer(@concept_id, @child14_concept_id,14);
call add_concept_answer(@concept_id, @child15_concept_id,15);
call add_concept_answer(@concept_id, @child16_concept_id,16);
call add_concept_answer(@concept_id, @child17_concept_id,17);
call add_concept_answer(@concept_id, @child18_concept_id,18);
call add_concept_answer(@concept_id, @child19_concept_id,19);
call add_concept_answer(@concept_id, @child20_concept_id,20);
call add_concept_answer(@concept_id, @child21_concept_id,21);
call add_concept_answer(@concept_id, @child22_concept_id,22);
call add_concept_answer(@concept_id, @child23_concept_id,23);
call add_concept_answer(@concept_id, @child24_concept_id,24);
call add_concept_answer(@concept_id, @child25_concept_id,25);
call add_concept_answer(@concept_id, @child26_concept_id,26);
call add_concept_answer(@concept_id, @child27_concept_id,27);
call add_concept_answer(@concept_id, @child28_concept_id,28);
call add_concept_answer(@concept_id, @child29_concept_id,29);
call add_concept_answer(@concept_id, @child30_concept_id,30);
call add_concept_answer(@concept_id, @child31_concept_id,31);
call add_concept_answer(@concept_id, @child32_concept_id,32);
call add_concept_answer(@concept_id, @child33_concept_id,33);
call add_concept_answer(@concept_id, @child34_concept_id,34);
call add_concept_answer(@concept_id, @child35_concept_id,35);
call add_concept_answer(@concept_id, @child36_concept_id,36);
call add_concept_answer(@concept_id, @child37_concept_id,37);
call add_concept_answer(@concept_id, @child38_concept_id,38);
call add_concept_answer(@concept_id, @child39_concept_id,39);
call add_concept_answer(@concept_id, @child40_concept_id,40);
call add_concept_answer(@concept_id, @child41_concept_id,41);
call add_concept_answer(@concept_id, @child42_concept_id,42);
call add_concept_answer(@concept_id, @child43_concept_id,43);
call add_concept_answer(@concept_id, @child44_concept_id,44);
call add_concept_answer(@concept_id, @child45_concept_id,45);
call add_concept_answer(@concept_id, @child46_concept_id,46);
call add_concept_answer(@concept_id, @child47_concept_id,47);
call add_concept_answer(@concept_id, @child48_concept_id,48);
call add_concept_answer(@concept_id, @child49_concept_id,49);
call add_concept_answer(@concept_id, @child50_concept_id,50);
call add_concept_answer(@concept_id, @child51_concept_id,51);
call add_concept_answer(@concept_id, @child52_concept_id,52);
call add_concept_answer(@concept_id, @child53_concept_id,53);
call add_concept_answer(@concept_id, @child54_concept_id,54);
call add_concept_answer(@concept_id, @child55_concept_id,55);
call add_concept_answer(@concept_id, @child56_concept_id,56);
call add_concept_answer(@concept_id, @child57_concept_id,57);
call add_concept_answer(@concept_id, @child58_concept_id,58);
call add_concept_answer(@concept_id, @child59_concept_id,59);
call add_concept_answer(@concept_id, @child60_concept_id,60);
  </sql>
</changeSet>
<changeSet id="OCB-CONFIG-201806071245" author="Vishnu">
    <preConditions onFail="MARK_RAN">
         <sqlCheck expectedResult="0">
            select COUNT(*) from concept_set cs
            join concept_name cn
            on cs.concept_id = cn.concept_id
            where cs.concept_id IN (select concept_id from concept_name where name IN
            (
            'MANDALA ANSWOR Jeanine'
'BANONA KIFU  Nono'
'OWANGA TAMBWE  Esther'
'KALAMBA KABONGO  Christian'
'MFUTISI Bibi  Judith'
'BARAKA MOLA ANNIE'
'KANYONA MBUYI LOUIS RICHARD'
'NGONDE ANNIE'
'KALWANGILA SEQUEIRA Tony'
'MUCINYA LUMOWO Gisèle'
'TSHIMUNGU Alain'
'MANGANA Freddy'
'KALENGAY Corine'
'KABEMA Antoine'
'AMSINI Chicco'
'NTABUGI Nadine'
'MBUNGA'
'KAYEMBE Kick'
'KISAKA Patrick'
'MWASOMI Patrick'
'WALLAYS Elisabeth'
'MBUAYA Joelle'
'NYALENGE Destin'
'MUNZIKA EVA'
'MBALA ALEXIS'
'NGANDU ROBERT'
'SHAKO LISETTE'
'LUKELO CECILE'
'MPOYI EMMANUEL',
'WALO Chadrack'
'MOLAY Gaylord'
'KALALA MUKENA Serge'
'BELANGANAY Geoffrey'
'KOMOYO Gertrude'
'DUQUET Katrien'
'CIBANGU Jean de Dieu'
'BAFINDA Phillipe'
'BANINGIME Sandrine'
'ILUNGA BONDO Michel'
'NUMELIE ILUNGA Thérèse'
'BUMBANGI Serge'
'MALUNGIDI Pelagie'
'MBALA SEKI Alexis'
'KUTUKUENDA NZADI Roger'
'NTUMBA Naomie'
'SONGO Carmen'
'KAYEMBE Sylvain'
'KUKANGIDILA Emmanuel'
'NSEKI Patrick'
'KUSAKANA Eveline'
'MBUALA Prodige'
'NSUNDA NTANGU Afrie'
'KAMUNGA Kennedy'
'MUJINGILA Fanny'
'NIAMA Despy'
'KALONJI Euphrasie'
'BATUMBA John'
'CIMANGA Nelly'
'SHALASHALA Valerie'
'TAMBWE Mike'
           ) AND concept_name_type = "FULLY_SPECIFIED")
            and cs.concept_set IN (select concept_id from concept_name where name = "Médecin en charge");
          </sqlCheck>
        </preConditions>

<comment> coded answers for "Infirmier en charge de l'admission" section </comment>
<sql>
  set @concept_id = 0;
        set @child1_concept_id = 0;
        set @child2_concept_id = 0;
        set @child3_concept_id = 0;
        set @child4_concept_id = 0;
        set @child5_concept_id = 0;
        set @child6_concept_id = 0;
        set @child7_concept_id = 0;
        set @child8_concept_id = 0;
        set @child9_concept_id = 0;
        set @child10_concept_id = 0;
        set @child11_concept_id = 0;
        set @child12_concept_id = 0;
        set @child13_concept_id = 0;
        set @child14_concept_id = 0;
        set @child15_concept_id = 0;
        set @child16_concept_id = 0;
        set @child17_concept_id = 0;
        set @child18_concept_id = 0;
        set @child19_concept_id = 0;
        set @child20_concept_id = 0;
        set @child21_concept_id = 0;
        set @child22_concept_id = 0;
        set @child23_concept_id = 0;
        set @child24_concept_id = 0;
        set @child25_concept_id = 0;
        set @child26_concept_id = 0;
        set @child27_concept_id = 0;
        set @child28_concept_id = 0;
        set @child29_concept_id = 0;
        set @child30_concept_id = 0;
set @child31_concept_id = 0;
set @child32_concept_id = 0;
set @child33_concept_id = 0;
set @child34_concept_id = 0;
set @child35_concept_id = 0;
set @child36_concept_id = 0;
set @child37_concept_id = 0;
set @child38_concept_id = 0;
set @child39_concept_id = 0;
set @child40_concept_id = 0;
set @child41_concept_id = 0;
set @child42_concept_id = 0;
set @child43_concept_id = 0;
set @child44_concept_id = 0;
set @child45_concept_id = 0;
set @child46_concept_id = 0;
set @child47_concept_id = 0;
set @child48_concept_id = 0;
set @child49_concept_id = 0;
set @child50_concept_id = 0;
set @child51_concept_id = 0;
set @child52_concept_id = 0;
set @child53_concept_id = 0;
set @child54_concept_id = 0;
set @child55_concept_id = 0;
set @child56_concept_id = 0;
set @child57_concept_id = 0;
set @child58_concept_id = 0;
set @child59_concept_id = 0;
set @child60_concept_id = 0;

        select concept_id into @concept_id from concept_name where name = "Medecin en charge de l'admission" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

        select concept_id into @child1_concept_id from concept_name where name='MANDALA ANSWOR Jeanine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child2_concept_id from concept_name where name='BANONA KIFU  Nono'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child3_concept_id from concept_name where name='OWANGA TAMBWE  Esther'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child4_concept_id from concept_name where name='KALAMBA KABONGO  Christian'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child5_concept_id from concept_name where name='MFUTISI Bibi  Judith'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child6_concept_id from concept_name where name='BARAKA MOLA ANNIE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child7_concept_id from concept_name where name='KANYONA MBUYI LOUIS RICHARD'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child8_concept_id from concept_name where name='NGONDE ANNIE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child9_concept_id from concept_name where name='KALWANGILA SEQUEIRA Tony'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child10_concept_id from concept_name where name='MUCINYA LUMOWO Gisèle'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child11_concept_id from concept_name where name='TSHIMUNGU Alain'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child12_concept_id from concept_name where name='MANGANA Freddy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child13_concept_id from concept_name where name='KALENGAY Corine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child14_concept_id from concept_name where name='KABEMA Antoine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child15_concept_id from concept_name where name='AMSINI Chicco'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child16_concept_id from concept_name where name='NTABUGI Nadine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child17_concept_id from concept_name where name='MBUNGA'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child18_concept_id from concept_name where name='KAYEMBE Kick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child19_concept_id from concept_name where name='KISAKA Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child20_concept_id from concept_name where name='MWASOMI Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child21_concept_id from concept_name where name='WALLAYS Elisabeth'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child22_concept_id from concept_name where name='MBUAYA Joelle'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child23_concept_id from concept_name where name='NYALENGE Destin'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child24_concept_id from concept_name where name='MUNZIKA EVA'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child25_concept_id from concept_name where name='MBALA ALEXIS'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child26_concept_id from concept_name where name='NGANDU ROBERT'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child27_concept_id from concept_name where name='SHAKO LISETTE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child28_concept_id from concept_name where name='LUKELO CECILE'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child29_concept_id from concept_name where name='MPOYI EMMANUEL'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

select concept_id into @child30_concept_id from concept_name where name='WALO Chadrack'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child31_concept_id from concept_name where name='MOLAY Gaylord'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child32_concept_id from concept_name where name='KALALA MUKENA Serge'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child33_concept_id from concept_name where name='BELANGANAY Geoffrey'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child34_concept_id from concept_name where name='KOMOYO Gertrude'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child35_concept_id from concept_name where name='DUQUET Katrien'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child36_concept_id from concept_name where name='CIBANGU Jean de Dieu'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child37_concept_id from concept_name where name='BAFINDA Phillipe'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child38_concept_id from concept_name where name='BANINGIME Sandrine'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child39_concept_id from concept_name where name='ILUNGA BONDO Michel'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child40_concept_id from concept_name where name='NUMELIE ILUNGA Thérèse'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child41_concept_id from concept_name where name='BUMBANGI Serge'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child42_concept_id from concept_name where name='MALUNGIDI Pelagie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child43_concept_id from concept_name where name='MBALA SEKI Alexis'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child44_concept_id from concept_name where name='KUTUKUENDA NZADI Roger'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child45_concept_id from concept_name where name='NTUMBA Naomie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child46_concept_id from concept_name where name='SONGO Carmen'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child47_concept_id from concept_name where name='KAYEMBE Sylvain'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child48_concept_id from concept_name where name='KUKANGIDILA Emmanuel'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child49_concept_id from concept_name where name='NSEKI Patrick'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child50_concept_id from concept_name where name='KUSAKANA Eveline'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child51_concept_id from concept_name where name='MBUALA Prodige'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child52_concept_id from concept_name where name='NSUNDA NTANGU Afrie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child53_concept_id from concept_name where name='KAMUNGA Kennedy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child54_concept_id from concept_name where name='MUJINGILA Fanny'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child55_concept_id from concept_name where name='NIAMA Despy'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child56_concept_id from concept_name where name='KALONJI Euphrasie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child57_concept_id from concept_name where name='BATUMBA John'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child58_concept_id from concept_name where name='CIMANGA Nelly'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child59_concept_id from concept_name where name='SHALASHALA Valerie'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
select concept_id into @child60_concept_id from concept_name where name='TAMBWE Mike'and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

call add_concept_answer(@concept_id, @child1_concept_id,1);
call add_concept_answer(@concept_id, @child2_concept_id,2);
call add_concept_answer(@concept_id, @child3_concept_id,3);
call add_concept_answer(@concept_id, @child4_concept_id,4);
call add_concept_answer(@concept_id, @child5_concept_id,5);
call add_concept_answer(@concept_id, @child6_concept_id,6);
call add_concept_answer(@concept_id, @child7_concept_id,7);
call add_concept_answer(@concept_id, @child8_concept_id,8);
call add_concept_answer(@concept_id, @child9_concept_id,9);
call add_concept_answer(@concept_id, @child10_concept_id,10);
call add_concept_answer(@concept_id, @child11_concept_id,11);
call add_concept_answer(@concept_id, @child12_concept_id,12);
call add_concept_answer(@concept_id, @child13_concept_id,13);
call add_concept_answer(@concept_id, @child14_concept_id,14);
call add_concept_answer(@concept_id, @child15_concept_id,15);
call add_concept_answer(@concept_id, @child16_concept_id,16);
call add_concept_answer(@concept_id, @child17_concept_id,17);
call add_concept_answer(@concept_id, @child18_concept_id,18);
call add_concept_answer(@concept_id, @child19_concept_id,19);
call add_concept_answer(@concept_id, @child20_concept_id,20);
call add_concept_answer(@concept_id, @child21_concept_id,21);
call add_concept_answer(@concept_id, @child22_concept_id,22);
call add_concept_answer(@concept_id, @child23_concept_id,23);
call add_concept_answer(@concept_id, @child24_concept_id,24);
call add_concept_answer(@concept_id, @child25_concept_id,25);
call add_concept_answer(@concept_id, @child26_concept_id,26);
call add_concept_answer(@concept_id, @child27_concept_id,27);
call add_concept_answer(@concept_id, @child28_concept_id,28);
call add_concept_answer(@concept_id, @child29_concept_id,29);
call add_concept_answer(@concept_id, @child30_concept_id,30);
call add_concept_answer(@concept_id, @child31_concept_id,31);
call add_concept_answer(@concept_id, @child32_concept_id,32);
call add_concept_answer(@concept_id, @child33_concept_id,33);
call add_concept_answer(@concept_id, @child34_concept_id,34);
call add_concept_answer(@concept_id, @child35_concept_id,35);
call add_concept_answer(@concept_id, @child36_concept_id,36);
call add_concept_answer(@concept_id, @child37_concept_id,37);
call add_concept_answer(@concept_id, @child38_concept_id,38);
call add_concept_answer(@concept_id, @child39_concept_id,39);
call add_concept_answer(@concept_id, @child40_concept_id,40);
call add_concept_answer(@concept_id, @child41_concept_id,41);
call add_concept_answer(@concept_id, @child42_concept_id,42);
call add_concept_answer(@concept_id, @child43_concept_id,43);
call add_concept_answer(@concept_id, @child44_concept_id,44);
call add_concept_answer(@concept_id, @child45_concept_id,45);
call add_concept_answer(@concept_id, @child46_concept_id,46);
call add_concept_answer(@concept_id, @child47_concept_id,47);
call add_concept_answer(@concept_id, @child48_concept_id,48);
call add_concept_answer(@concept_id, @child49_concept_id,49);
call add_concept_answer(@concept_id, @child50_concept_id,50);
call add_concept_answer(@concept_id, @child51_concept_id,51);
call add_concept_answer(@concept_id, @child52_concept_id,52);
call add_concept_answer(@concept_id, @child53_concept_id,53);
call add_concept_answer(@concept_id, @child54_concept_id,54);
call add_concept_answer(@concept_id, @child55_concept_id,55);
call add_concept_answer(@concept_id, @child56_concept_id,56);
call add_concept_answer(@concept_id, @child57_concept_id,57);
call add_concept_answer(@concept_id, @child58_concept_id,58);
call add_concept_answer(@concept_id, @child59_concept_id,59);
call add_concept_answer(@concept_id, @child60_concept_id,60);
  </sql>
</changeSet>
 <changeSet id="OCB-CONFIG-201806080731" author="Vishnu">    
        <comment>Updating the datatypes for the Date fields in Forms</comment>
        <sql>
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Datetime') where concept_id =(select concept_id from concept_name where name ="IPD Admission, Date d'admission" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Date') where concept_id =(select concept_id from concept_name where name ="Date de sortie" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Numeric') where concept_id =(select concept_id from concept_name where name ="IPD Admission, Année" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
     update concept set datatype_id = (select concept_datatype_id from concept_datatype where name='Date') where concept_id =(select concept_id from concept_name where name ="Date début" and locale='fr' and concept_name_type='FULLY_SPECIFIED'); 
   </sql>
   </changeSet>
   <changeSet id="OCB-CONFIG-201806110935" author="Vishnu">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name  where name in ("Diagnostics à l'admission",
                "Diagnostics à l'admission non listé");
            </sqlCheck>
        </preConditions>
        <comment>Creating 2 new concepts (feedback #296) </comment>
        <sql>
set @concept_id = 0;
set @concept_short_id = 0;
set @concept_full_id = 0;
set @count = 0;
call add_concept_fr(@concept_id,@concept_short_id,@concept_full_id,"Diagnostics à l'admission","Diagnostics à l'admission",'Coded','Misc',FALSE);
call add_concept_fr(@concept_id,@concept_short_id,@concept_full_id,"Diagnostics à l'admission non listé","Diagnostics à l'admission non listé ",'Text','Misc',FALSE);
        </sql>
      </changeSet>

    <changeSet id="OCB-CONFIG-201806110931" author="Vishnu">
    <preConditions onFail="MARK_RAN">
        <sqlCheck expectedResult="0">
            select COUNT(*) from concept_set cs
            join concept_name cn
            on cs.concept_id = cn.concept_id
            where cs.concept_id IN (select concept_id from concept_name where name IN
            (
            'Toxoplasmose cérébrale (1)'
            'Crypto NM (2)',
            'Méningite tuberculeuse (3)',
            'Neurosyphillis (4)',
            'Méningite bactérienne (5)',
            'méningite virale (6)',
            'Encéphalopathie liée au VIH (7)',
            'AVC (8)',
            'neuropathie périphérique (9)',
            'intoxication (alcohol, drugs) (10)',
            'Parasitose - Diarrhée aigue (11)',
            'Gastro-entérite (12)',
            'Effets sécondaires (LPV/r) (13)',
            'TB abdominal (14)',
            'Gastro-entérite (15)',
            'Parasitose - Diarrhée chronique (16)',
            'Effets sécondaire (17)',
            'MAC (18)',
            'SK - Diarrhée chronique (19)',
            'Effets sécondaire (20)',
            'SK - Autres syndromes GI (21)',
            'Candidose oesophagienne (22)',
            'SK - Hematologique: anemie (23)',
            'AZT (24)',
            'Psychose (25)',
            'Depression (26)',
            'Anxiété (27)',
            "Abus d'alcool ou de drogues (28)",
            'Effets sécondaire médicaments (EFV) (29)',
            'Pneumonie bactérielle (30)',
            'Bronchite (31)',
            'PCP (32)',
            'TB pulmonaire (33)',
            'Maladie pulmonaire obstructive chronique (34)',
            'SK - Respiratoire (35)',
            'Cryptococcose pulmonaire (36)',
            'LIP (37)',
            'Hypertension artérielle (38)',
            'Insufficience cardiaque (39)'
            'Péricardite (40)',
            'Endocardite (41)',
            'SK - Cutane (42)',
            'Stephen johnsons (43)',
            'Autre major (44)',
            'IST (45)',
            'Violence sexuelle (46)',
            'IR Corrigée médicamenteux/ MNT (47)',
            'HIVAN (48)',
            'Cystite (49)',
            'Pyelonéphrite (50)',
            'Diabète (51)',
            'SK - Orale (52)',
            'Médicamenteux (53)',
            'Virale (54)',
            'TB Disséminée (55)',
            'Paludisme (56)',
            'Autres (57)') AND concept_name_type = "FULLY_SPECIFIED")
            and cs.concept_set IN (select concept_id from concept_name where name = "Diagnostics à l'admission");
        </sqlCheck>
    </preConditions>
    <comment>Adding answers to Fds Diagnostic concept </comment>
    <sql>
        set @concept_id = 0;
        set @child1_concept_id = 0;
        set @child2_concept_id = 0;
        set @child3_concept_id = 0;
        set @child4_concept_id = 0;
        set @child5_concept_id = 0;
        set @child6_concept_id = 0;
        set @child7_concept_id = 0;
        set @child8_concept_id = 0;
        set @child9_concept_id = 0;
        set @child10_concept_id = 0;
        set @child11_concept_id = 0;
        set @child12_concept_id = 0;
        set @child13_concept_id = 0;
        set @child14_concept_id = 0;
        set @child15_concept_id = 0;
        set @child16_concept_id = 0;
        set @child17_concept_id = 0;
        set @child18_concept_id = 0;
        set @child19_concept_id = 0;
        set @child20_concept_id = 0;
        set @child21_concept_id = 0;
        set @child22_concept_id = 0;
        set @child23_concept_id = 0;
        set @child24_concept_id = 0;
        set @child25_concept_id = 0;
        set @child26_concept_id = 0;
        set @child27_concept_id = 0;
        set @child28_concept_id = 0;
        set @child29_concept_id = 0;
        set @child30_concept_id = 0;
        set @child31_concept_id = 0;
        set @child32_concept_id = 0;
        set @child33_concept_id = 0;
        set @child34_concept_id = 0;
        set @child35_concept_id = 0;
        set @child36_concept_id = 0;
        set @child37_concept_id = 0;
        set @child38_concept_id = 0;
        set @child39_concept_id = 0;
        set @child40_concept_id = 0;
        set @child41_concept_id = 0;
        set @child42_concept_id = 0;
        set @child43_concept_id = 0;
        set @child44_concept_id = 0;
        set @child45_concept_id = 0;
        set @child46_concept_id = 0;
        set @child47_concept_id = 0;
        set @child48_concept_id = 0;
        set @child49_concept_id = 0;
        set @child50_concept_id = 0;
        set @child51_concept_id = 0;
        set @child52_concept_id = 0;
        set @child53_concept_id = 0;
        set @child54_concept_id = 0;
        set @child55_concept_id = 0;
        set @child56_concept_id = 0;
        set @child57_concept_id = 0;

        select concept_id into @concept_id from concept_name where name = "Diagnostics à l'admission" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

        select concept_id into @child1_concept_id from concept_name where name = 'Toxoplasmose cérébrale (1)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child2_concept_id from concept_name where name = 'Crypto NM (2)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child3_concept_id from concept_name where name = 'Méningite tuberculeuse (3)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child4_concept_id from concept_name where name = 'Neurosyphillis (4)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child5_concept_id from concept_name where name = 'Méningite bactérienne (5)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child6_concept_id from concept_name where name = 'méningite virale (6)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child7_concept_id from concept_name where name = 'Encéphalopathie liée au VIH (7)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child8_concept_id from concept_name where name = 'AVC (8)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child9_concept_id from concept_name where name = 'neuropathie périphérique (9)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child10_concept_id from concept_name where name = 'intoxication (alcohol, drugs) (10)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child11_concept_id from concept_name where name = 'Parasitose - Diarrhée aigue (11)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child12_concept_id from concept_name where name = 'Gastro-entérite (12)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child13_concept_id from concept_name where name = 'Effets sécondaires (LPV/r) (13)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child14_concept_id from concept_name where name = 'TB abdominal (14)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child15_concept_id from concept_name where name = 'Gastro-entérite (15)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child16_concept_id from concept_name where name = 'Parasitose - Diarrhée chronique (16)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child17_concept_id from concept_name where name = 'Effets sécondaire (17)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child18_concept_id from concept_name where name = 'MAC (18)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child19_concept_id from concept_name where name = 'SK - Diarrhée chronique (19)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child20_concept_id from concept_name where name = 'Effets sécondaire (20)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child21_concept_id from concept_name where name = 'SK - Autres syndromes GI (21)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child22_concept_id from concept_name where name = 'Candidose oesophagienne (22)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child23_concept_id from concept_name where name = 'SK - Hematologique: anemie (23)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child24_concept_id from concept_name where name = 'AZT (24)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child25_concept_id from concept_name where name = 'Psychose (25)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child26_concept_id from concept_name where name = 'Depression (26)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child27_concept_id from concept_name where name = 'Anxiété (27)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child28_concept_id from concept_name where name = "Abus d'alcool ou de drogues (28)" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child29_concept_id from concept_name where name = 'Effets sécondaire médicaments (EFV) (29)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child30_concept_id from concept_name where name = 'Pneumonie bactérielle (30)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child31_concept_id from concept_name where name = 'Bronchite (31)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child32_concept_id from concept_name where name = 'PCP (32)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child33_concept_id from concept_name where name = 'TB pulmonaire (33)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child34_concept_id from concept_name where name = 'Maladie pulmonaire obstructive chronique (34)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child35_concept_id from concept_name where name = 'SK - Respiratoire (35)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child36_concept_id from concept_name where name = 'Cryptococcose pulmonaire (36)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child37_concept_id from concept_name where name = 'LIP (37)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child38_concept_id from concept_name where name = 'Hypertension artérielle (38)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child39_concept_id from concept_name where name = 'Insufficience cardiaque (39)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child40_concept_id from concept_name where name = 'Péricardite (40)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child41_concept_id from concept_name where name = 'Endocardite (41)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child42_concept_id from concept_name where name = 'SK - Cutane (42)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child43_concept_id from concept_name where name = 'Stephen johnsons (43)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child44_concept_id from concept_name where name = 'Autre major (44)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child45_concept_id from concept_name where name = 'IST (45)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child46_concept_id from concept_name where name = 'Violence sexuelle (46)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child47_concept_id from concept_name where name = 'IR Corrigée médicamenteux/ MNT (47)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child48_concept_id from concept_name where name = 'HIVAN (48)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child49_concept_id from concept_name where name = 'Cystite (49)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child50_concept_id from concept_name where name = 'Pyelonéphrite (50)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child51_concept_id from concept_name where name = 'Diabète (51)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child52_concept_id from concept_name where name = 'SK - Orale (52)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child53_concept_id from concept_name where name = 'Médicamenteux (53)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child54_concept_id from concept_name where name = 'Virale (54)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child55_concept_id from concept_name where name = 'TB Disséminée (55)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child56_concept_id from concept_name where name = 'Paludisme (56)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
        select concept_id into @child57_concept_id from concept_name where name = 'Autres (57)' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

        call add_concept_answer(@concept_id, @child1_concept_id, 1);
        call add_concept_answer(@concept_id, @child2_concept_id, 2);
        call add_concept_answer(@concept_id, @child3_concept_id, 3);
        call add_concept_answer(@concept_id, @child4_concept_id, 4);
        call add_concept_answer(@concept_id, @child5_concept_id, 5);
        call add_concept_answer(@concept_id, @child6_concept_id, 6);
        call add_concept_answer(@concept_id, @child7_concept_id, 7);
        call add_concept_answer(@concept_id, @child8_concept_id, 8);
        call add_concept_answer(@concept_id, @child9_concept_id, 9);
        call add_concept_answer(@concept_id, @child10_concept_id, 10);
        call add_concept_answer(@concept_id, @child11_concept_id, 11);
        call add_concept_answer(@concept_id, @child12_concept_id, 12);
        call add_concept_answer(@concept_id, @child13_concept_id, 13);
        call add_concept_answer(@concept_id, @child14_concept_id, 14);
        call add_concept_answer(@concept_id, @child15_concept_id, 15);
        call add_concept_answer(@concept_id, @child16_concept_id, 16);
        call add_concept_answer(@concept_id, @child17_concept_id, 17);
        call add_concept_answer(@concept_id, @child18_concept_id, 18);
        call add_concept_answer(@concept_id, @child19_concept_id, 19);
        call add_concept_answer(@concept_id, @child20_concept_id, 20);
        call add_concept_answer(@concept_id, @child21_concept_id, 21);
        call add_concept_answer(@concept_id, @child22_concept_id, 22);
        call add_concept_answer(@concept_id, @child23_concept_id, 23);
        call add_concept_answer(@concept_id, @child24_concept_id, 24);
        call add_concept_answer(@concept_id, @child25_concept_id, 25);
        call add_concept_answer(@concept_id, @child26_concept_id, 26);
        call add_concept_answer(@concept_id, @child27_concept_id, 27);
        call add_concept_answer(@concept_id, @child28_concept_id, 28);
        call add_concept_answer(@concept_id, @child29_concept_id, 29);
        call add_concept_answer(@concept_id, @child30_concept_id, 30);
        call add_concept_answer(@concept_id, @child31_concept_id, 31);
        call add_concept_answer(@concept_id, @child32_concept_id, 32);
        call add_concept_answer(@concept_id, @child33_concept_id, 33);
        call add_concept_answer(@concept_id, @child34_concept_id, 34);
        call add_concept_answer(@concept_id, @child35_concept_id, 35);
        call add_concept_answer(@concept_id, @child36_concept_id, 36);
        call add_concept_answer(@concept_id, @child37_concept_id, 37);
        call add_concept_answer(@concept_id, @child38_concept_id, 38);
        call add_concept_answer(@concept_id, @child39_concept_id, 39);
        call add_concept_answer(@concept_id, @child40_concept_id, 40);
        call add_concept_answer(@concept_id, @child41_concept_id, 41);
        call add_concept_answer(@concept_id, @child42_concept_id, 42);
        call add_concept_answer(@concept_id, @child43_concept_id, 43);
        call add_concept_answer(@concept_id, @child44_concept_id, 44);
        call add_concept_answer(@concept_id, @child45_concept_id, 45);
        call add_concept_answer(@concept_id, @child46_concept_id, 46);
        call add_concept_answer(@concept_id, @child47_concept_id, 47);
        call add_concept_answer(@concept_id, @child48_concept_id, 48);
        call add_concept_answer(@concept_id, @child49_concept_id, 49);
        call add_concept_answer(@concept_id, @child50_concept_id, 50);
        call add_concept_answer(@concept_id, @child51_concept_id, 51);
        call add_concept_answer(@concept_id, @child52_concept_id, 52);
        call add_concept_answer(@concept_id, @child53_concept_id, 53);
        call add_concept_answer(@concept_id, @child54_concept_id, 54);
        call add_concept_answer(@concept_id, @child55_concept_id, 55);
        call add_concept_answer(@concept_id, @child56_concept_id, 56);
        call add_concept_answer(@concept_id, @child57_concept_id, 57);
    </sql>
</changeSet>

<changeSet id="OCB-CONFIG-201806111008" author="Vishnu">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                   select COUNT(*) from concept_set cs
                   join concept_name cn
                   on cs.concept_id = cn.concept_id
                   where cs.concept_id IN (select concept_id from concept_name where name IN
                   ("Diagnostics à l'admission","Diagnostics à l'admission non listé") AND concept_name_type = "FULLY_SPECIFIED")
                   and cs.concept_set IN (select concept_id from concept_name where name = 'Admission IPD Form');
                </sqlCheck>
        </preConditions>
        <comment>Adding set members for Admission IPD Form</comment>
         <sql>
            set @concept_id = 0;
            set @member1_concept_id = 0;
            set @member2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = 'Admission IPD Form' and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

            select concept_id into @member1_concept_id from concept_name where name = "Diagnostics à l'admission" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;
            select concept_id into @member2_concept_id from concept_name where name = "Diagnostics à l'admission non listé" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'fr' and voided = 0;

            call add_concept_set_members (@concept_id, @member1_concept_id, 7);
            call add_concept_set_members (@concept_id, @member2_concept_id, 8);
          </sql>
          <sql>
            update concept_set set sort_weight=9 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='Malade arrivé mort');

            update concept_set set sort_weight=10 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, Hospitalisations antérieures');

            update concept_set set sort_weight=11 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, Historique VIH');

            update concept_set set sort_weight=12 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, Histoire ARV');

            update concept_set set sort_weight=13 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, Adherence ARV');

            update concept_set set sort_weight=14 where concept_set in (select concept_id from concept_name where name ='Admission PD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, Historique TB');

            update concept_set set sort_weight=15 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission Section, TB Précédentes');

            update concept_set set sort_weight=16 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="IPD Admission, Prophylaxie à l'admission");

            update concept_set set sort_weight=17 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission, Stade OMS');

            update concept_set set sort_weight=18 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ='IPD Admission, SNC Glasgow(/15)');

            update concept_set set sort_weight=19 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="Infirmier en charge de l'admission");

            update concept_set set sort_weight=20 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="Medecin en charge de l'admission");

            update concept_set set sort_weight=21 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="Examen Physique á l'admission");

            update concept_set set sort_weight=22 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="Meilleure prise en charge");

            update concept_set set sort_weight=23 where concept_set in (select concept_id from concept_name where name ='Admission IPD Form' and locale='fr') and concept_id in (select concept_id from concept_name where name ="Test á l'admission");

          </sql>
</changeSet>
    </databaseChangeLog>

